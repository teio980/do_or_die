<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AI Buddy Chat</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class'
    }
  </script>
  <link rel="stylesheet" href="ai-buddy.css">

  <!-- Apply saved theme as early as possible to prevent flash -->
  <script>
    if (localStorage.getItem("theme") === "dark") {
      document.documentElement.classList.add("dark");
    }
  </script>
</head>

<body class="bg-[#F5F5F7] dark:bg-[#121212] text-gray-900 dark:text-gray-100">

<!-- Navigation Bar -->
<nav class="fixed top-0 left-0 right-0 z-50 bg-white dark:bg-[#1A1A1A] border-b border-gray-200 dark:border-gray-700">
  <div class="max-w-6xl mx-auto px-6 h-16 flex items-center justify-between">

    <div class="text-xl font-extrabold tracking-wide
                bg-gradient-to-r from-indigo-500 to-purple-500 
                bg-clip-text text-transparent
                transition duration-300 transform
                hover:scale-105 hover:from-pink-500 hover:to-yellow-500">
      Do or Cry
    </div>

    <div class="flex items-center space-x-6">
      <a href="home.html" class="font-medium transition duration-300
         bg-gradient-to-r from-gray-800 to-gray-800 bg-clip-text text-transparent 
         dark:from-gray-200 dark:to-gray-200
         hover:from-indigo-500 hover:to-purple-500
         dark:hover:from-teal-300 dark:hover:to-sky-400">Home</a>

      <a href="dashboard.html" class="font-medium transition duration-300
         bg-gradient-to-r from-gray-800 to-gray-800 bg-clip-text text-transparent 
         dark:from-gray-200 dark:to-gray-200
         hover:from-indigo-500 hover:to-purple-500
         dark:hover:from-teal-300 dark:hover:to-sky-400">Dashboard</a>

      <a href="tools.html" class="font-medium transition duration-300
         bg-gradient-to-r from-gray-800 to-gray-800 bg-clip-text text-transparent 
         dark:from-gray-200 dark:to-gray-200
         hover:from-indigo-500 hover:to-purple-500
         dark:hover:from-teal-300 dark:hover:to-sky-400">Tools</a>

      <!-- Theme Button -->
      <button onclick="toggleTheme()"
        class="p-2 rounded-full bg-gradient-to-r from-purple-600 to-blue-500
               text-white dark:text-black
               transition duration-500 transform hover:scale-125 hover:rotate-180 hover:shadow-[0_0_12px_rgba(139,92,246,0.6)]">
        <span class="dark:hidden">ðŸŒ™</span>
        <span class="hidden dark:inline">â˜€</span>
      </button>
    </div>
  </div>
</nav>

<div class="h-16"></div>

<h1 class="text-4xl font-extrabold text-center mb-6 dark:text-gray-100">AI Buddy Chat</h1>

<div id="personalityBtns" class="relative flex items-center justify-center gap-3 w-full max-w-3xl mx-auto">
  <div class="flex gap-3 mx-auto">
    <button onclick="setPersonality('nice')" class="nice">Encouraging ðŸ¤—</button>
    <button onclick="setPersonality('roast')" class="roast">Playful ðŸ¤ª</button>
  </div>
  <button onclick="clearChat()" class="clear-chat-btn">Clear</button>
</div>


<div id="chatContainer"></div>

<div id="inputArea">
  <input id="userInput" type="text" placeholder="Type your message...">
  <button id="sendBtn" onclick="sendMessage()">Send</button>
</div>

<script src="ai-buddy.js"></script>

<!-- Theme Script -->
<script>
  function toggleTheme() {
    const html = document.documentElement;
    const isDark = html.classList.toggle("dark");
    localStorage.setItem("theme", isDark ? "dark" : "light");
  }
</script>
</body>
</html>